<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="633px" preserveAspectRatio="none" style="width:1094px;height:633px;background:#FFFFFF;" version="1.1" viewBox="0 0 1094 633" width="1094px" zoomAndPan="magnify"><defs><filter height="300%" id="f1e5f66kfc0lbs" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="190" x="449.75" y="30.6855">SD - Register Customer</text><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="472.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="69.5" y="136.25"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="450.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="341.5" y="158.6016"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="376.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="500.5" y="232.3047"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="953" y="262.6563"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="953" y="384.0625"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="953" y="548.4688"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1050" y="488.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="74" x2="74" y1="126.25" y2="626.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="346.5" x2="346.5" y1="126.25" y2="626.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="505.5" x2="505.5" y1="126.25" y2="626.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="670.5" x2="670.5" y1="126.25" y2="626.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="821.5" x2="821.5" y1="126.25" y2="626.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="957.5" x2="957.5" y1="126.25" y2="626.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1054.5" x2="1054.5" y1="126.25" y2="626.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="5" y="123.1738">Warehouse Manager</text><ellipse cx="74.5" cy="51.6406" fill="#FEFECE" filter="url(#f1e5f66kfc0lbs)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M74.5,59.6406 L74.5,86.6406 M61.5,67.6406 L87.5,67.6406 M74.5,86.6406 L61.5,101.6406 M74.5,86.6406 L87.5,101.6406 " fill="none" filter="url(#f1e5f66kfc0lbs)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1e5f66kfc0lbs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="288.5" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="295.5" y="111.1738">:UpdateOrderUI</text><rect fill="#FEFECE" filter="url(#f1e5f66kfc0lbs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="162" x="422.5" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="429.5" y="111.1738">:UpdateOrderController</text><rect fill="#FEFECE" filter="url(#f1e5f66kfc0lbs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="598.5" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="605.5" y="111.1738">:PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1e5f66kfc0lbs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="134" x="752.5" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="759.5" y="111.1738">:RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="900.5" y="123.1738">:OrderRepository</text><path d="M940,72.6406 C940,62.6406 958,62.6406 958,62.6406 C958,62.6406 976,62.6406 976,72.6406 L976,98.6406 C976,108.6406 958,108.6406 958,108.6406 C958,108.6406 940,108.6406 940,98.6406 L940,72.6406 " fill="#FEFECE" filter="url(#f1e5f66kfc0lbs)" style="stroke:#000000;stroke-width:1.5;"/><path d="M940,72.6406 C940,82.6406 958,82.6406 958,82.6406 C958,82.6406 976,82.6406 976,72.6406 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1e5f66kfc0lbs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="55" x="1025.5" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1032.5" y="111.1738">:Order</text><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="472.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="69.5" y="136.25"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="450.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="341.5" y="158.6016"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="376.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="500.5" y="232.3047"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="953" y="262.6563"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="953" y="384.0625"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="953" y="548.4688"/><rect fill="#FFFFFF" filter="url(#f1e5f66kfc0lbs)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1050" y="488.1172"/><polygon fill="#A80036" points="329.5,154.6016,339.5,158.6016,329.5,162.6016,333.5,158.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="79.5" x2="335.5" y1="158.6016" y2="158.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="86.5" y="153.7451">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="97.5" y="153.7451">Wishes to update an order</text><line style="stroke:#A80036;stroke-width:1.0;" x1="351.5" x2="393.5" y1="188.9531" y2="188.9531"/><line style="stroke:#A80036;stroke-width:1.0;" x1="393.5" x2="393.5" y1="188.9531" y2="201.9531"/><line style="stroke:#A80036;stroke-width:1.0;" x1="352.5" x2="393.5" y1="201.9531" y2="201.9531"/><polygon fill="#A80036" points="362.5,197.9531,352.5,201.9531,362.5,205.9531,358.5,201.9531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="358.5" y="184.0967">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="369.5" y="184.0967">doShow()</text><polygon fill="#A80036" points="488.5,228.3047,498.5,232.3047,488.5,236.3047,492.5,232.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="351.5" x2="494.5" y1="232.3047" y2="232.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="358.5" y="227.4482">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="369.5" y="227.4482">orderUpdate(orderID)</text><polygon fill="#A80036" points="941,258.6563,951,262.6563,941,266.6563,945,262.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="510.5" x2="947" y1="262.6563" y2="262.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="517.5" y="257.7998">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="528.5" y="257.7998">orders = orderRepository.readyOrders()</text><polygon fill="#A80036" points="521.5,289.0078,511.5,293.0078,521.5,297.0078,517.5,293.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="515.5" x2="957" y1="293.0078" y2="293.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="527.5" y="288.1514">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="538.5" y="288.1514">ordersPrepared()</text><polygon fill="#A80036" points="90.5,319.3594,80.5,323.3594,90.5,327.3594,86.5,323.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84.5" x2="340.5" y1="323.3594" y2="323.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="96.5" y="318.5029">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="107.5" y="318.5029">shows order list and asks to select one</text><polygon fill="#A80036" points="329.5,349.7109,339.5,353.7109,329.5,357.7109,333.5,353.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="79.5" x2="335.5" y1="353.7109" y2="353.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="86.5" y="348.8545">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="97.5" y="348.8545">selects the order to update</text><polygon fill="#A80036" points="941,380.0625,951,384.0625,941,388.0625,945,384.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="510.5" x2="947" y1="384.0625" y2="384.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="517.5" y="379.2061">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="528.5" y="379.2061">findOrderByID(orderID)</text><polygon fill="#A80036" points="521.5,410.4141,511.5,414.4141,521.5,418.4141,517.5,414.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="515.5" x2="957" y1="414.4141" y2="414.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="527.5" y="409.5576">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="538.5" y="409.5576">order</text><line style="stroke:#A80036;stroke-width:1.0;" x1="510.5" x2="552.5" y1="444.7656" y2="444.7656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="552.5" x2="552.5" y1="444.7656" y2="457.7656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="511.5" x2="552.5" y1="457.7656" y2="457.7656"/><polygon fill="#A80036" points="521.5,453.7656,511.5,457.7656,521.5,461.7656,517.5,457.7656" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="517.5" y="439.9092">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="535.5" y="439.9092">orderUpdate(orderID)</text><polygon fill="#A80036" points="1038,484.1172,1048,488.1172,1038,492.1172,1042,488.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="510.5" x2="1044" y1="488.1172" y2="488.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="517.5" y="483.2607">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="535.5" y="483.2607">changeStatus(OrderStatus.DELIVERED)</text><polygon fill="#A80036" points="941,544.4688,951,548.4688,941,552.4688,945,548.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="510.5" x2="947" y1="548.4688" y2="548.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="517.5" y="543.6123">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="535.5" y="543.6123">save(orderUpdate)</text><polygon fill="#A80036" points="85.5,604.8203,75.5,608.8203,85.5,612.8203,81.5,608.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79.5" x2="345.5" y1="608.8203" y2="608.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="91.5" y="603.9639">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="109.5" y="603.9639">successful operation</text><!--MD5=[329e8dd181c9464fff873540d4f10b89]
@startuml
autonumber
hide footbox

title SD - Register Customer

        actor "Warehouse Manager" as wm
		participant ":UpdateOrderUI" as ui
		participant ":UpdateOrderController" as ctrl
		participant ":PersistenceContext" as pc
		participant ":RepositoryFactory" as rf
		database ":OrderRepository" as repoPC
        participant ":Order" as prod
        activate wm

        wm -> ui: Wishes to update an order
        activate ui
		ui->ui:doShow()
        		ui->ctrl:orderUpdate(orderID)
        		activate ctrl

        		ctrl->repoPC:orders = orderRepository.readyOrders()
        		activate repoPC
        		repoPC->ctrl: ordersPrepared()
        		deactivate repoPC
        		ui - -> wm :  shows order list and asks to select one
        		wm -> ui : selects the order to update
        		ctrl -> repoPC: findOrderByID(orderID)
        		activate repoPC
        		repoPC->ctrl: order
        		deactivate repoPC


        		ctrl->ctrl: orderUpdate(orderID)
        		ctrl -> prod : changeStatus(OrderStatus.DELIVERED)
        		activate prod
        		deactivate prod


        		ctrl->repoPC:save(orderUpdate)
        		activate repoPC
        		deactivate repoPC
        		ui - -> wm: successful operation
        		deactivate ctrl
        		deactivate ui
        		deactivate wm




@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>